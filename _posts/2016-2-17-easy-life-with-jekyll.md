---
layout: post
title: Делаем жизнь проще с Jekyll
comments: true
---

```Вода mode: on```

У каждого программиста(да и не только программиста) рано или поздно возникает желание перестать держать свои мысли в голове
и начать делиться ими с окружающими людьми. Но у нас, у программистов, есть одна проблема - когда начинаешь объяснять своим друзьям не из IT,
девушке или родственникам что-то вроде: "Представляешь, я вчера такую фичу запилил: там кароче надо было сделать вот это, но так не получалось
и тогда я взял, и сделал вот так! Круто, да?". И что мы обычно получаем в ответ? Максимум непонимающий взгляд и кивок. По крайней мере со мной
всегда так.

И тогда мы решаем делиться нашим опытом с людьми, которые в этом понимают. На помощь в этом к нам приходят разного рода техтолки, конференции,
посиделки за пивом с коллегами, блоги и т.п. Я не исключение и поэтому хочу поелиться опытом, а по большому счету просто собрать смои мысли воедино
и рассказать как я пришел к созданию этого самого блога.

Когда меня впервые посетила эта идея - я начал писать приложения для блога самостоятельно. Еще бы, я же Ruby on Rails разработчик!

<image src='../images/jekyll-start-min.jpg' />

Наверное, у каждого программиста на домашнем компьютере есть папка ```my_projects```, в которой лежит парочка, а может быть и десяток, своих проектов, которые начинались с большим энтузиазмом, но так и остались в полурабочем состоянии. Так случилось и с моим собственным блогом - это была большая многопользовательская система для ведения блогов, в которой можно было вести несколько блогов и в которой были крутые ```CSS3``` эффекты. Но, как и следовало ожидать, дальше дело не пошло. После этого идея вести блог как-то поугасла, пока я не наткнулся на статью о **Jekyll**

И вот я здесь :)

```Вода mode: off```

Итак, независимо от того, читали ли вы мои откровения на тему, давайте поговорим о самом <a href="https://jekyllrb.com/">Jekyll</a> и о варианте его хостинга на <a href="https://pages.github.com/">Github Pages</a>.

## Для начала немного теории.

**Jekyll** - это генератор статических сайтов, ориентированный на создание статических блогов. Другими словами - это фреймворк, который предоставляет нам удобную площадку для создания блога, сводя задачи на создание логики самого приложения к минимуму. Главная идея Jekyll - "Нет времени объяснять - просто бери и пиши статьи!". И это действительно удобно! На то, чтобы поднять полностью рабочий блог тебе нужно не более 10 минут!

<image src='../images/jekyll-no-time-to-explain.jpg' />

## Достоинства Jekyll:

1. **Статичность.** Что бы вы не делали с помощью Jekyll - на выходе всегда будет статическая страница. Я не буду расписывать подробности использования статических сайтов - для этого есть <a href="https://habrahabr.ru/post/251797/">вот эта хорошая статья</a>.
2. **Быстрый старт.** Как я уже говорил, для старта вам понадобится около 10 минут.
3. **Удобный хостинг.** Вы можете разместить свой блог на **Github Pages**, просто переминовав репозиторий с блогом на **username.github.io**
4. **Внешний вид.** Выбирайте один из десятков бесплатных шаблонов под Jekyll, создавайте свой или скачайте из Интернета любой ```HTML``` шаблон и используйте его.
5. **Оформление**. Вам не нужно тратить время на визуальное оформление - просто используйте <a href="">Markdown</a>

## Но куда же без недостатков:

1. **Статичность.** Статический сайт - это круто, но статичность приносит определенные недуобства. Самое главное на мой взгляд - это невозможность работать с базой данных. Да, я понимаю, что БД в блоге не так уж и нужна, но мне не хватает банальной возможности сделать блок с подпиской на новые статьи - а ведь это очень хорошая возможность привлекать на твой блог внимание.
2. **Работа с медиа.** Так как мы не используем никаких CMS - никто нам не поможет собрать наши изображения или ```javascript``` файлы и загрузить на страницу. Поэтому все приходится делать вручную, как в старые добрые времена.

## Давайте же начинать!

<image src='../images/jekyll-gagarin.jpg' />

Первое, что нам нужно - выбрать шаблон для нашего будущего блога. Темы легко можно найти в интернете, например <a href="http://jekyllthemes.org/">здесь</a>. Я предлагаю не заморачиваться для первого раза и выбрать <a href="https://github.com/barryclark/jekyll-now">jekyll-now</a>. Для этого просто делаем форк этого репозитория.

<image src='../images/gif/jekyll-step1.gif' />

Если Вы не хотите работать с Github pages - Вам нужно скачать тему ```jekyll-now``` архивом из репозитория и разместить на удобном для Вас хостинге. Дальнейшее руководство я буду проводить для варианта хостинга на Github, но шаги не сильно отличаются для случаев использования других хостингов.

<image src='../images/jekyll-download.png' />

Следующее, что нам нужно сделать - это разместить наш костяк блога на Github Pages. Для этого достаточно просто переименовать форкнутый репозиторий в **username.github.io**, где **username** - это ваш username на Github:

<image src='../images/jekyll-rename.png' />

Готово! Теперь у нас есть свой собственный блог, доступный по адресу **username.github.io**! Если у Вас на данный момент сайт все еще недоступен - ничего страшного, это гитхаб еще не собрал ваш сайт. Как нам вежливо попросить его собрать наш сайт я расскажу далее.

<image src='../images/jekyll-run.png' />

## Конфигурирование.

Jekyll настраивается посредством файла конфигурации ```_config.yml```. Здесь мы можем настроить ссылки на наши социальные сети, добавить ссылки для аналитики Google и т.д. Обратите внимание на строку ```# !! You don't need to change any of the configuration flags below !!``` - конфиг ниже этой строки изменять не рекомендуется.

Да, если у вас не собрался сайт после переименования репозитория(как это было и у меня) - достаточно изменить любой файл в репозитории. После этого гитхаб пересоберет ваш сайт и он будет доступен! Возможно, на это уйдет время, но не больше минуты.

## Структура проекта.

Структура предельно проста:

1. **_includes** содержит дополнительные модули jekyll, например для Google аналитики или Disquss(плагина для комментариев).
2. **_layouts** содержит шаблоны нашего приложения. Грубо говоря шаблон - это скелет страницы, внутрь которого Jekyll будет помещать наш контент.
3. **_posts.** Здесь будут лежать наши посты.
4. **_sass** содержит файлы стилей приложения. Да, Jekyll умеет <a href="http://sass-lang.com/">sass</a>. Для тех кто знает, что такое ```sass``` ничего объяснять не нужно. Для тех кто еще не знаком с этим препроцессором - вы можете или писать обычный ```CSS``` в файле ```style.scss``` или же <a href="https://habrahabr.ru/post/140612/">почитать</a> что такое ```sass```.
5. **images** - сюда мы будем класть наши изображения.
6. **404.md** - файл страницы 404.
7. **_config.yml** - файл конфигурации.
8. **about.md** - страница About.
9. **index.html** - заглавная страница нашего блога.

## Наконец-то первый пост!

Для того, чтобы создать первый пост достаточно создать новый файл с расширением ```.md``` в папке ```_posts```. Имя файла **обязательно** должно начинаться с даты в формате ```гггг.мм.дд``` и именем поста. Например, файл со статьей, которую вы читаете, называется ```2016-2-17-easy-life-with-jekyll.md```. Как мы можем заметить, имя файла без даты и расширения используется как ссылка на наш пост - это уникальный идентификатор поста. Для оформления текста поста в Jekyll используется <a href="https://guides.github.com/features/mastering-markdown/">Markdown</a>.
В самом начале поста необходимо указать служебную информацию для Jekyll:

```Markdown
---
layout: post # устанавливает шаблон для страницы
title: Делаем жизнь проще с Jekyll # заголовок статьи(в т.ч. и в списке статей)
comments: true # эту переменную можно использовать для управления комментариями. Это не обязательный параметр.
---
```

## Проверяем.

Если мы все сделали правильно - наш пост должен отобразиться в списке на главной и быть готовым к прочтению:

<image src='../images/jekyll-finish.png' />

Готово! Теперь у нас есть собственнй блог с нашим первым постом!

На последок скажу об ограничениях Github Pages.

* Имя репозитория(оно же адрес сайта) должно начинаться с имени пользователя или названия организации, под которым мы разворачиваем блог.
* Размер всего репозитория не должен превышать 1 Гб.
* Размер одного файла не должен превышать 100 Мб.

## Послесловие.
В качестве итога поделюсь своим мнением. Jekyll - это отличная возможность начать свой блог без ~~смс и регистрации~~ особых усилий и затрат времени сделать свой первый блог. А, как говорится, главное - начать. Возможно, когда-нибудь, возможностей Jekyll для моих или ваших нужд перестанет хватать, но все равно Jekyll останется тем, благодаря чему мы бросили безуспешные попытки написания своих приложений для блога и начали делать то, ради чего все задумывалось - писать свои собственные посты!

В этой статье я сознательно не пишу про редактирование шаблонов, добавления комментариев и прочих полезностей для Jekyll, потому что эта статья называется "Делаем жизнь проще", поэтому я и изложил в ней базу, с которой можно начать свое изучение Jekyll. В добрый путь, господа. Дерзайте, и однажды я буду читать Вашу статью так же, как Вы читаете мою!

P.S. Спасибо <a href="https://twitter.com/silentimp"> Антону Немцеву</a> за <a href="http://frontender.info/build-blog-jekyll-github-pages/"> его статью о Jekyll</a>. Благодаря этой статье я теперь здесь :)


<!--There is disqus comments code below-->

<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
this.page.url = 'http://murzvo.github.io/Hello-World/';
this.page.identifier = 'murzvo.github.io/Hello-World';
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//muzakvladimir.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
